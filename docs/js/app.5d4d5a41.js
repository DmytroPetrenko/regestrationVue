(function(e){function t(t){for(var a,i,o=t[0],l=t[1],u=t[2],g=0,d=[];g<o.length;g++)i=o[g],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},r={app:0},n=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("router-view")],1)},n=[],i=s("5530"),o=s("2f62"),l={name:"App",methods:Object(i["a"])({},Object(o["b"])("user",["setUserFromLS"])),created:function(){var e=JSON.parse(localStorage.getItem("user"));e&&this.setUserFromLS(e)}},u=l,c=s("2877"),g=s("6544"),d=s.n(g),f=s("7496"),m=Object(c["a"])(u,r,n,!1,null,null,null),p=m.exports;d()(m,{VApp:f["a"]});var v=s("bc3a"),h=s.n(v),b={login:x,logout:w,register:y,getAll:O},P="https://registrationform.free.beeceptor.com";function x(e,t){return h.a.post("".concat(P,"/login"),{body:JSON.stringify({username:e,password:t})}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data})).catch((function(e){return console.log(e)}))}function w(){localStorage.removeItem("user")}function y(e){return h.a.post("".concat(P,"/register"),{body:JSON.stringify(e)}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}function O(){return h.a.get("".concat(P,"/users")).then((function(e){return e.data.users})).catch((function(e){return console.log(e)}))}s("caad"),s("2532"),s("b0c0");var _=s("8c4f"),V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{persistent:"","max-width":"600px","min-width":"360px"},model:{value:e.isDialog,callback:function(t){e.isDialog=t},expression:"isDialog"}},[s("div",[s("v-tabs",{attrs:{"show-arrows":"","background-color":"deep-purple accent-4","icons-and-text":"",dark:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tabs-slider",{attrs:{color:"purple darken-4"}}),e._l(e.tabs,(function(t){return s("v-tab",{key:t.name},[s("v-icon",{attrs:{large:""}},[e._v(e._s(t.icon))]),s("div",{staticClass:"caption py-1"},[e._v(e._s(t.name))])],1)})),s("v-tab-item",[s("v-card",{staticClass:"px-4"},[s("v-card-text",[s("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{rules:e.loginEmailRules,label:"E-mail",required:""},model:{value:e.loginEmail,callback:function(t){e.loginEmail=t},expression:"loginEmail"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{"append-icon":e.isPassVisible?"eye":"eye-off",rules:[e.rules.required,e.rules.min],type:e.isPassVisible?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":e.changeShowIcon},model:{value:e.loginPassword,callback:function(t){e.loginPassword=t},expression:"loginPassword"}})],1),s("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),s("v-spacer"),s("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3",xsm:"12","align-end":""}},[s("v-btn",{attrs:{"x-large":"",block:"",disabled:!e.valid,color:"success"},on:{click:e.validateLogin}},[e._v(" Login ")])],1)],1)],1)],1)],1)],1),s("v-tab-item",[s("v-card",{staticClass:"px-4"},[s("v-card-text",[s("v-form",{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-text-field",{attrs:{rules:[e.rules.required],label:"First Name",maxlength:"20",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-text-field",{attrs:{rules:[e.rules.required],label:"Last Name",maxlength:"20",required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{"append-icon":e.isPassVisible?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.isPassVisible?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":e.changeShowIcon},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{block:"","append-icon":e.isPassVisible?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.passwordMatch],type:e.isPassVisible?"text":"password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":e.changeShowIcon},model:{value:e.verify,callback:function(t){e.verify=t},expression:"verify"}})],1),s("v-spacer"),s("v-col",{staticClass:"d-flex ml-auto",attrs:{cols:"12",sm:"3",xsm:"12"}},[s("v-btn",{attrs:{"x-large":"",block:"",disabled:!e.valid,color:"success"},on:{click:e.validateRegister}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],2)],1)])},k=[],j={name:"RegestrationForm",computed:{passwordMatch:function(){var e=this;return function(){return e.password===e.verify||"Password must match"}}},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])("user",["register","login"])),{},{validateRegister:function(){this.$refs.registerForm.validate()&&(this.register({name:this.firstName+" "+this.lastName,email:this.email,password:this.password}),this.tab=0)},validateLogin:function(){this.$refs.loginForm.validate()&&this.login({username:this.email,password:this.password})},reset:function(){var e;null===(e=this.$refs.form)||void 0===e||e.reset()},resetValidation:function(){var e;null===(e=this.$refs.form)||void 0===e||e.resetValidation()},changeShowIcon:function(){this.isPassVisible=!this.isPassVisible}}),data:function(){return{isDialog:!0,tab:0,tabs:[{name:"Login",icon:"mdi-account"},{name:"Register",icon:"mdi-account-outline"}],valid:!0,firstName:"",lastName:"",email:"",password:"",verify:"",loginPassword:"",loginEmail:"",loginEmailRules:[function(e){return!!e||"Required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],emailRules:[function(e){return!!e||"Required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],isPassVisible:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e&&e.length>=8||"Min 8 characters"}}}}},L=j,S=s("8336"),U=s("b0af"),I=s("99d9"),R=s("62ad"),N=s("169a"),F=s("4bd4"),q=s("132d"),A=s("0fd9"),E=s("2fa4"),C=s("71a3"),$=s("c671"),T=s("fe57"),M=s("9a96"),J=s("8654"),D=Object(c["a"])(L,V,k,!1,null,null,null),z=D.exports;d()(D,{VBtn:S["a"],VCard:U["a"],VCardText:I["a"],VCol:R["a"],VDialog:N["a"],VForm:F["a"],VIcon:q["a"],VRow:A["a"],VSpacer:E["a"],VTab:C["a"],VTabItem:$["a"],VTabs:T["a"],VTabsSlider:M["a"],VTextField:J["a"]});var H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("Hi "+e._s(e.user.user.firstname)+"!")]),s("p",[e._v("You're logged in with Vue + Vuex & JWT!!")]),s("h3",[e._v("Users from secure api end point:")]),e.users.loading?s("em",[e._v("Loading users...")]):e.users.error?s("span",{staticClass:"text-danger"},[e._v("ERROR: "+e._s(e.users.error))]):e._e(),e.users.items?s("ul",e._l(e.users.items,(function(t){return s("li",{key:t.id},[e._v(" "+e._s(t.firstName+" "+t.lastName)+" ")])})),0):e._e(),s("p",{on:{click:e.logout}},[s("router-link",{attrs:{to:"/login"}},[e._v("Logout")])],1)])},B=[],W={name:"UserPage",computed:Object(i["a"])({},Object(o["c"])({user:function(e){return e.user},users:function(e){return e.users.all}})),created:function(){this.getAllUsers()},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])("users",{getAllUsers:"getAll"})),Object(o["b"])("user",{logout:"logout"}))},Y=W,G=Object(c["a"])(Y,H,B,!1,null,null,null),K=G.exports,Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("v-list",e._l(e.usersPerPage,(function(t){return s("v-list-item",{key:t.id.value},[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:e._s(t.name.first)}})],1)],1)})),1),s("v-pagination",{attrs:{length:e.paginationLength,circle:""},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},X=[],Z={data:function(){return{defaultPage:1,perPage:4}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])({usersPerPage:function(e){return e.users.usersPerPage},usersList:function(e){return e.users.usersList}})),{},{paginationLength:function(){return Math.ceil(this.usersList.length/this.perPage)},startPaginationIndex:function(){return 0+this.perPage*(this.page-1)},endPaginationIndex:function(){return this.startPaginationIndex+this.perPage},page:{get:function(){return this.$route.params.page?parseInt(this.$route.params.page):this.defaultPage},set:function(e){this.defaultPage=e}}}),methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])("users",["getUsersPerPage","getUsersList"])),{},{changePage:function(){this.$route.params.page!=this.defaultPage&&(console.log(this.$route.params.page,this.defaultPage),ue.push({name:"Users",params:{page:this.defaultPage}}))}}),watch:{page:function(){this.getUsersPerPage({page:this.page,perPage:this.perPage})}},mounted:function(){this.getUsersList(),this.getUsersPerPage({page:this.page,perPage:this.perPage})}},ee=Z,te=s("8860"),se=s("da13"),ae=s("5d23"),re=s("891e"),ne=Object(c["a"])(ee,Q,X,!1,null,null,null),ie=ne.exports;d()(ne,{VList:te["a"],VListItem:se["a"],VListItemContent:ae["a"],VListItemTitle:ae["b"],VPagination:re["a"]});var oe={login:"Login",home:"Home",users:"Users"};a["a"].use(_["a"]);var le=new _["a"]({routes:[{path:"/login",name:oe.login,component:z},{path:"/users/:page",name:oe.users,component:ie},{path:"/",name:oe.home,component:K},{path:"/page-not-found",alias:"*",component:{render:function(e){return e("div",["404! Page Not Found!"])}}}]});le.beforeEach((function(e,t,s){var a=[oe.login,oe.users],r=!a.includes(e.name),n=localStorage.getItem("user");if(r&&!n)return s(oe.login);s()}));var ue=le,ce={status:{},user:null},ge={login:function(e,t){var s=e.commit,a=t.username,r=t.password;s("loginRequest",{username:a}),b.login(a,r).then((function(e){s("loginSuccess",e),ue.push({name:oe.home})}),(function(e){s("loginFailure",e)}))},logout:function(e){var t=e.commit;b.logout(),t("logout")},register:function(e,t){b.register(t).then((function(e){console.log(e.status)}),(function(e){console.log(e)}))},setUserFromLS:function(e,t){var s=e.commit;s("setUserFromLS",t)}},de={loginRequest:function(e,t){e.status={loggingIn:!0},e.user=t},loginSuccess:function(e,t){e.status={loggedIn:!0},e.user=t},loginFailure:function(e){e.status={},e.user=null},logout:function(e){e.status={},e.user=null},setUserFromLS:function(e,t){e.user=t,e.status={loggedIn:!0}}},fe={namespaced:!0,state:ce,actions:ge,mutations:de},me=(s("99af"),{all:{},usersList:[],usersPerPage:[]}),pe={getAll:function(e){var t=e.commit;t("getAllRequest"),b.getAll().then((function(e){return t("getAllSuccess",e)}),(function(e){return t("getAllFailure",e)}))},getUsersList:function(e){var t=e.commit;h.a.get("https://randomuser.me/api/?results=10").then((function(e){t("getUsersList",e.data.results)})).catch((function(e){return console.log(e)}))},getUsersPerPage:function(e,t){var s=e.commit;h.a.get("https://randomuser.me/api/?page=".concat(t.page,"&results=").concat(t.perPage)).then((function(e){s("getUsersPerPage",e.data.results)})).catch((function(e){return console.log(e)}))}},ve={getAllRequest:function(e){e.all={loading:!0}},getAllSuccess:function(e,t){e.all={items:t}},getAllFailure:function(e,t){e.all={error:t}},getUsersList:function(e,t){e.usersList=t},getUsersPerPage:function(e,t){e.usersPerPage=t}},he={namespaced:!0,state:me,actions:pe,mutations:ve};a["a"].use(o["a"]);var be=new o["a"].Store({modules:{user:fe,users:he}}),Pe=s("f309");a["a"].use(Pe["a"]);var xe=new Pe["a"]({});a["a"].config.productionTip=!1,new a["a"]({store:be,router:ue,vuetify:xe,render:function(e){return e(p)}}).$mount("#app")}});
//# sourceMappingURL=app.5d4d5a41.js.map