(function(e){function t(t){for(var r,o,i=t[0],l=t[1],u=t[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(f.length)f.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view")],1)},n=[],o=a("5530"),i=a("2f62"),l={name:"App",methods:Object(o["a"])({},Object(i["b"])("user",["setUserFromLS"])),created:function(){var e=JSON.parse(localStorage.getItem("user"));e&&this.setUserFromLS(e)}},u=l,c=a("2877"),d=a("6544"),f=a.n(d),m=a("7496"),g=Object(c["a"])(u,s,n,!1,null,null,null),p=g.exports;f()(g,{VApp:m["a"]});var v=a("bc3a"),b=a.n(v),h={login:x,logout:y,register:_,getAll:k},w="https://registrationform.free.beeceptor.com";function x(e,t){return b.a.post("".concat(w,"/login"),{body:JSON.stringify({username:e,password:t})}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data})).catch((function(e){return console.log(e)}))}function y(){localStorage.removeItem("user")}function _(e){return b.a.post("".concat(w,"/register"),{body:JSON.stringify(e)}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}function k(){return b.a.get("".concat(w,"/users")).then((function(e){return e.data.users})).catch((function(e){return console.log(e)}))}a("caad"),a("2532"),a("b0c0");var O=a("8c4f"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"600px","min-width":"360px"},model:{value:e.isDialog,callback:function(t){e.isDialog=t},expression:"isDialog"}},[a("div",[a("v-tabs",{attrs:{"show-arrows":"","background-color":"deep-purple accent-4","icons-and-text":"",dark:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"purple darken-4"}}),e._l(e.tabs,(function(t){return a("v-tab",{key:t.name},[a("v-icon",{attrs:{large:""}},[e._v(e._s(t.icon))]),a("div",{staticClass:"caption py-1"},[e._v(e._s(t.name))])],1)})),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.loginEmailRules,label:"E-mail",required:""},model:{value:e.loginEmail,callback:function(t){e.loginEmail=t},expression:"loginEmail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":e.isPassVisible?"eye":"eye-off",rules:[e.rules.required,e.rules.min],type:e.isPassVisible?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":e.changeShowIcon},model:{value:e.loginPassword,callback:function(t){e.loginPassword=t},expression:"loginPassword"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),a("v-spacer"),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3",xsm:"12","align-end":""}},[a("v-btn",{attrs:{"x-large":"",block:"",disabled:!e.valid,color:"success"},on:{click:e.validateLogin}},[e._v(" Login ")])],1)],1)],1)],1)],1)],1),a("v-tab-item",[a("v-card",{staticClass:"px-4"},[a("v-card-text",[a("v-form",{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"First Name",maxlength:"20",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Last Name",maxlength:"20",required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":e.isPassVisible?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.isPassVisible?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":e.changeShowIcon},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{block:"","append-icon":e.isPassVisible?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.passwordMatch],type:e.isPassVisible?"text":"password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":e.changeShowIcon},model:{value:e.verify,callback:function(t){e.verify=t},expression:"verify"}})],1),a("v-spacer"),a("v-col",{staticClass:"d-flex ml-auto",attrs:{cols:"12",sm:"3",xsm:"12"}},[a("v-btn",{attrs:{"x-large":"",block:"",disabled:!e.valid,color:"success"},on:{click:e.validateRegister}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],2)],1)])},V=[],P={name:"RegestrationForm",computed:{passwordMatch:function(){var e=this;return function(){return e.password===e.verify||"Password must match"}}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])("user",["register","login"])),{},{validateRegister:function(){this.$refs.registerForm.validate()&&(this.register({name:this.firstName+" "+this.lastName,email:this.email,password:this.password}),this.tab=0)},validateLogin:function(){this.$refs.loginForm.validate()&&this.login({username:this.email,password:this.password})},reset:function(){var e;null===(e=this.$refs.form)||void 0===e||e.reset()},resetValidation:function(){var e;null===(e=this.$refs.form)||void 0===e||e.resetValidation()},changeShowIcon:function(){this.isPassVisible=!this.isPassVisible}}),data:function(){return{isDialog:!0,tab:0,tabs:[{name:"Login",icon:"mdi-account"},{name:"Register",icon:"mdi-account-outline"}],valid:!0,firstName:"",lastName:"",email:"",password:"",verify:"",loginPassword:"",loginEmail:"",loginEmailRules:[function(e){return!!e||"Required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],emailRules:[function(e){return!!e||"Required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],isPassVisible:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e&&e.length>=8||"Min 8 characters"}}}}},j=P,R=a("8336"),N=a("b0af"),F=a("99d9"),q=a("62ad"),A=a("169a"),E=a("4bd4"),I=a("132d"),L=a("0fd9"),C=a("2fa4"),T=a("71a3"),U=a("c671"),$=a("fe57"),J=a("9a96"),M=a("8654"),D=Object(c["a"])(j,S,V,!1,null,null,null),z=D.exports;f()(D,{VBtn:R["a"],VCard:N["a"],VCardText:F["a"],VCol:q["a"],VDialog:A["a"],VForm:E["a"],VIcon:I["a"],VRow:L["a"],VSpacer:C["a"],VTab:T["a"],VTabItem:U["a"],VTabs:$["a"],VTabsSlider:J["a"],VTextField:M["a"]});var H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Hi "+e._s(e.user.user.firstname)+"!")]),a("p",[e._v("You're logged in with Vue + Vuex & JWT!!")]),a("h3",[e._v("Users from secure api end point:")]),e.users.loading?a("em",[e._v("Loading users...")]):e.users.error?a("span",{staticClass:"text-danger"},[e._v("ERROR: "+e._s(e.users.error))]):e._e(),e.users.items?a("ul",e._l(e.users.items,(function(t){return a("li",{key:t.id},[e._v(" "+e._s(t.firstName+" "+t.lastName)+" ")])})),0):e._e(),a("p",{on:{click:e.logout}},[a("router-link",{attrs:{to:"/login"}},[e._v("Logout")])],1)])},B=[],W={name:"UserPage",computed:Object(o["a"])({},Object(i["c"])({user:function(e){return e.user},users:function(e){return e.users.all}})),created:function(){this.getAllUsers()},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])("users",{getAllUsers:"getAll"})),Object(i["b"])("user",{logout:"logout"}))},Y=W,G=Object(c["a"])(Y,H,B,!1,null,null,null),K=G.exports,Q={login:"Login",home:"Home"};r["a"].use(O["a"]);var X=new O["a"]({routes:[{path:"/login",name:Q.login,component:z},{path:"/",name:Q.home,component:K},{path:"/page-not-found",alias:"*",component:{render:function(e){return e("div",["404! Page Not Found!"])}}}]});X.beforeEach((function(e,t,a){var r=[Q.login],s=!r.includes(e.name),n=localStorage.getItem("user");if(s&&!n)return a(Q.login);a()}));var Z=X,ee={status:{},user:null},te={login:function(e,t){var a=e.commit,r=t.username,s=t.password;a("loginRequest",{username:r}),h.login(r,s).then((function(e){a("loginSuccess",e),Z.push({name:Q.home})}),(function(e){a("loginFailure",e)}))},logout:function(e){var t=e.commit;h.logout(),t("logout")},register:function(e,t){h.register(t).then((function(e){console.log(e.status)}),(function(e){console.log(e)}))},setUserFromLS:function(e,t){var a=e.commit;a("setUserFromLS",t)}},ae={loginRequest:function(e,t){e.status={loggingIn:!0},e.user=t},loginSuccess:function(e,t){e.status={loggedIn:!0},e.user=t},loginFailure:function(e){e.status={},e.user=null},logout:function(e){e.status={},e.user=null},setUserFromLS:function(e,t){e.user=t,e.status={loggedIn:!0}}},re={namespaced:!0,state:ee,actions:te,mutations:ae},se={all:{}},ne={getAll:function(e){var t=e.commit;t("getAllRequest"),h.getAll().then((function(e){return t("getAllSuccess",e)}),(function(e){return t("getAllFailure",e)}))}},oe={getAllRequest:function(e){e.all={loading:!0}},getAllSuccess:function(e,t){e.all={items:t}},getAllFailure:function(e,t){e.all={error:t}}},ie={namespaced:!0,state:se,actions:ne,mutations:oe};r["a"].use(i["a"]);var le=new i["a"].Store({modules:{user:re,users:ie}}),ue=a("f309");r["a"].use(ue["a"]);var ce=new ue["a"]({});r["a"].config.productionTip=!1,new r["a"]({store:le,router:Z,vuetify:ce,render:function(e){return e(p)}}).$mount("#app")}});
//# sourceMappingURL=app.aa57a028.js.map